{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sparklet/appstore-client/appstore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sparklet/appstore-client/appstore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sparklet/appstore-client/appstore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Form,Button,Input,message}from\"antd\";import{UserOutlined}from\"@ant-design/icons\";import SignupButton from\"./SignupButton\";import{login}from\"../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(_ref){var onLoginSuccess=_ref.onLoginSuccess;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var handleFormSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return login(data);case 4:onLoginSuccess();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);message.error(_context.t0.message);case 10:_context.prev=10;setLoading(false);return _context.finish(10);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,7,10,13]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{style:{width:500,margin:\"20px auto\"},children:/*#__PURE__*/_jsxs(Form,{onFinish:handleFormSubmit,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:\"Please input your Username!\"}],children:/*#__PURE__*/_jsx(Input,{disabled:loading,prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"Username\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:\"Please input your Password!\"}],children:/*#__PURE__*/_jsx(Input.Password,{disabled:loading,placeholder:\"Password\"})}),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",htmlType:\"submit\",style:{width:\"100%\"},children:\"Log in\"}),\"Or \",/*#__PURE__*/_jsx(SignupButton,{})]})]})});};export default LoginForm;","map":{"version":3,"names":["React","useState","Form","Button","Input","message","UserOutlined","SignupButton","login","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","onLoginSuccess","_useState","_useState2","_slicedToArray","loading","setLoading","handleFormSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","t0","error","finish","stop","_x","apply","arguments","style","width","margin","children","onFinish","Item","name","rules","required","disabled","prefix","placeholder","Password","type","htmlType"],"sources":["/Users/sparklet/appstore-client/appstore/src/components/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Input, message } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport SignupButton from \"./SignupButton\";\nimport { login } from \"../utils\";\n\nconst LoginForm = ({ onLoginSuccess }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleFormSubmit = async (data) => {\n    setLoading(true);\n\n    try {\n      await login(data);\n      onLoginSuccess();\n    } catch (error) {\n      message.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ width: 500, margin: \"20px auto\" }}>\n      <Form onFinish={handleFormSubmit}>\n        <Form.Item\n          name=\"username\"\n          rules={[\n            {\n              required: true,\n              message: \"Please input your Username!\",\n            },\n          ]}\n        >\n          <Input\n            disabled={loading}\n            prefix={<UserOutlined />}\n            placeholder=\"Username\"\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: \"Please input your Password!\",\n            },\n          ]}\n        >\n          <Input.Password disabled={loading} placeholder=\"Password\" />\n        </Form.Item>\n        <Form.Item>\n          <Button\n            loading={loading}\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{ width: \"100%\" }}\n          >\n            Log in\n          </Button>\n          Or <SignupButton />\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nexport default LoginForm;"],"mappings":"0YAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,MAAM,CAAEC,KAAK,CAAEC,OAAO,KAAQ,MAAM,CACnD,OAASC,YAAY,KAAQ,mBAAmB,CAChD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,OAASC,KAAK,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjC,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAA2B,IAArB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CACjC,IAAAC,SAAA,CAA8Bf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,gBAAgB,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,IAAI,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClCZ,UAAU,CAAC,IAAI,CAAC,CAACU,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGT,CAAAxB,KAAK,CAACmB,IAAI,CAAC,QACjBZ,cAAc,EAAE,CAACe,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAG,EAAA,CAAAH,QAAA,aAEjBzB,OAAO,CAAC6B,KAAK,CAACJ,QAAA,CAAAG,EAAA,CAAM5B,OAAO,CAAC,CAAC,QAAAyB,QAAA,CAAAC,IAAA,IAE7BX,UAAU,CAAC,KAAK,CAAC,CAAC,OAAAU,QAAA,CAAAK,MAAA,8BAAAL,QAAA,CAAAM,IAAA,MAAAV,OAAA,sBAErB,kBAXK,CAAAL,gBAAgBA,CAAAgB,EAAA,SAAAf,KAAA,CAAAgB,KAAA,MAAAC,SAAA,OAWrB,CAED,mBACE7B,IAAA,QAAK8B,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,WAAY,CAAE,CAAAC,QAAA,cAC9C/B,KAAA,CAACV,IAAI,EAAC0C,QAAQ,CAAEvB,gBAAiB,CAAAsB,QAAA,eAC/BjC,IAAA,CAACR,IAAI,CAAC2C,IAAI,EACRC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE,CACL,CACEC,QAAQ,CAAE,IAAI,CACd3C,OAAO,CAAE,6BACX,CAAC,CACD,CAAAsC,QAAA,cAEFjC,IAAA,CAACN,KAAK,EACJ6C,QAAQ,CAAE9B,OAAQ,CAClB+B,MAAM,cAAExC,IAAA,CAACJ,YAAY,IAAI,CACzB6C,WAAW,CAAC,UAAU,EACtB,EACQ,cACZzC,IAAA,CAACR,IAAI,CAAC2C,IAAI,EACRC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE,CACL,CACEC,QAAQ,CAAE,IAAI,CACd3C,OAAO,CAAE,6BACX,CAAC,CACD,CAAAsC,QAAA,cAEFjC,IAAA,CAACN,KAAK,CAACgD,QAAQ,EAACH,QAAQ,CAAE9B,OAAQ,CAACgC,WAAW,CAAC,UAAU,EAAG,EAClD,cACZvC,KAAA,CAACV,IAAI,CAAC2C,IAAI,EAAAF,QAAA,eACRjC,IAAA,CAACP,MAAM,EACLgB,OAAO,CAAEA,OAAQ,CACjBkC,IAAI,CAAC,SAAS,CACdC,QAAQ,CAAC,QAAQ,CACjBd,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAE,QAAA,CAC1B,QAED,EAAS,MACN,cAAAjC,IAAA,CAACH,YAAY,IAAG,GACT,GACP,EACH,CAEV,CAAC,CAED,cAAe,CAAAM,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}