{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sparklet/appstore-client/appstore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sparklet/appstore-client/appstore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sparklet/appstore-client/appstore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Card,Form,Image,Input,List,message,Tabs,Tooltip,Typography}from\"antd\";import{useEffect,useState}from\"react\";import{searchApps,checkout}from\"../utils\";import PostApps from\"./PostApps\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TabPane=Tabs.TabPane;var Text=Typography.Text;var BrowseApps=function BrowseApps(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){handleSearch();},[]);var handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query){var resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return searchApps(query);case 4:resp=_context.sent;setData(resp||[]);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);message.error(_context.t0.message);case 11:_context.prev=11;setLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}},_callee,null,[[1,8,11,14]]);}));return function handleSearch(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form,{onFinish:handleSearch,layout:\"inline\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Title\",name:\"title\",children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Description\",name:\"description\",children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",htmlType:\"submit\",children:\"Search\"})})]}),/*#__PURE__*/_jsx(List,{style:{marginTop:20},loading:loading,grid:{gutter:16,xs:1,sm:3,md:3,lg:3,xl:4,xxl:4},dataSource:data,renderItem:function renderItem(item){return/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsx(Card,{title:/*#__PURE__*/_jsx(Tooltip,{title:item.description,children:/*#__PURE__*/_jsx(Text,{ellipsis:true,style:{maxWidth:150},children:item.title})}),extra:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"$\",item.price]}),actions:[/*#__PURE__*/_jsx(Button,{shape:\"round\",type:\"primary\",onClick:function onClick(){return checkout(item.id);},children:\"Checkout\"})],children:/*#__PURE__*/_jsx(Image,{src:item.url,width:\"100%\"})},item.id)});}})]});};var HomePage=function HomePage(){return/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"1\",destroyInactiveTabPane:true,children:[/*#__PURE__*/_jsx(TabPane,{tab:\"Browse Apps\",children:/*#__PURE__*/_jsx(BrowseApps,{})},\"1\"),/*#__PURE__*/_jsx(TabPane,{tab:\"Post Apps\",children:/*#__PURE__*/_jsx(PostApps,{})},\"2\")]});};export default HomePage;","map":{"version":3,"names":["Button","Card","Form","Image","Input","List","message","Tabs","Tooltip","Typography","useEffect","useState","searchApps","checkout","PostApps","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TabPane","Text","BrowseApps","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","data","setData","handleSearch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","resp","wrap","_callee$","_context","prev","next","sent","t0","error","finish","stop","_x","apply","arguments","children","onFinish","layout","Item","label","name","type","htmlType","style","marginTop","grid","gutter","xs","sm","md","lg","xl","xxl","dataSource","renderItem","item","title","description","ellipsis","maxWidth","extra","price","actions","shape","onClick","id","src","url","width","HomePage","defaultActiveKey","destroyInactiveTabPane","tab"],"sources":["/Users/sparklet/appstore-client/appstore/src/components/HomePage.js"],"sourcesContent":["import {\n    Button,\n    Card,\n    Form,\n    Image,\n    Input,\n    List,\n    message,\n    Tabs,\n    Tooltip,\n    Typography,\n  } from \"antd\";\n  import { useEffect, useState } from \"react\";\n  import { searchApps, checkout } from \"../utils\";\n  import PostApps from \"./PostApps\";\n  \n  const { TabPane } = Tabs;\n  const { Text } = Typography;\n  \n  const BrowseApps = () => {\n    const [loading, setLoading] = useState(false);\n    const [data, setData] = useState([]);\n  \n    useEffect(() => {\n      handleSearch();\n    }, []);\n  \n    const handleSearch = async (query) => {\n      setLoading(true);\n      try {\n        const resp = await searchApps(query);\n        setData(resp || []);\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n  \n    return (\n      <>\n        <Form onFinish={handleSearch} layout=\"inline\">\n          <Form.Item label=\"Title\" name=\"title\">\n            <Input />\n          </Form.Item>\n          <Form.Item label=\"Description\" name=\"description\">\n            <Input />\n          </Form.Item>\n          <Form.Item>\n            <Button loading={loading} type=\"primary\" htmlType=\"submit\">\n              Search\n            </Button>\n          </Form.Item>\n        </Form>\n        <List\n          style={{ marginTop: 20 }}\n          loading={loading}\n          grid={{\n            gutter: 16,\n            xs: 1,\n            sm: 3,\n            md: 3,\n            lg: 3,\n            xl: 4,\n            xxl: 4,\n          }}\n          dataSource={data}\n          renderItem={(item) => (\n            <List.Item>\n              <Card\n                key={item.id}\n                title={\n                  <Tooltip title={item.description}>\n                    <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                      {item.title}\n                    </Text>\n                  </Tooltip>\n                }\n                extra={<Text type=\"secondary\">${item.price}</Text>}\n                actions={[\n                  <Button\n                    shape=\"round\"\n                    type=\"primary\"\n                    onClick={() => checkout(item.id)}\n                  >\n                    Checkout\n                  </Button>,\n                ]}\n              >\n                <Image src={item.url} width=\"100%\" />\n              </Card>\n            </List.Item>\n          )}\n        />\n      </>\n    );\n  };\n  \n  const HomePage = () => {\n    return (\n      <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n        <TabPane tab=\"Browse Apps\" key=\"1\">\n          <BrowseApps />\n        </TabPane>\n        <TabPane tab=\"Post Apps\" key=\"2\">\n          { <PostApps /> }\n        </TabPane>\n      </Tabs>\n    );\n  };\n  \n  export default HomePage;"],"mappings":"0YAAA,OACIA,MAAM,CACNC,IAAI,CACJC,IAAI,CACJC,KAAK,CACLC,KAAK,CACLC,IAAI,CACJC,OAAO,CACPC,IAAI,CACJC,OAAO,CACPC,UAAU,KACL,MAAM,CACb,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,UAAU,CAAEC,QAAQ,KAAQ,UAAU,CAC/C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElC,GAAQ,CAAAC,OAAO,CAAKd,IAAI,CAAhBc,OAAO,CACf,GAAQ,CAAAC,IAAI,CAAKb,UAAU,CAAnBa,IAAI,CAEZ,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,IAAAC,SAAA,CAA8Bb,QAAQ,CAAC,KAAK,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAwBlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBpB,SAAS,CAAC,UAAM,CACduB,YAAY,EAAE,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAA,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BjB,UAAU,CAAC,IAAI,CAAC,CAACe,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEI,CAAAjC,UAAU,CAAC2B,KAAK,CAAC,QAA9BC,IAAI,CAAAG,QAAA,CAAAG,IAAA,CACVd,OAAO,CAACQ,IAAI,EAAI,EAAE,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAEpBrC,OAAO,CAAC0C,KAAK,CAACL,QAAA,CAAAI,EAAA,CAAMzC,OAAO,CAAC,CAAC,QAAAqC,QAAA,CAAAC,IAAA,IAE7BhB,UAAU,CAAC,KAAK,CAAC,CAAC,OAAAe,QAAA,CAAAM,MAAA,8BAAAN,QAAA,CAAAO,IAAA,MAAAZ,OAAA,sBAErB,kBAVK,CAAAL,YAAYA,CAAAkB,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAUjB,CAED,mBACEnC,KAAA,CAAAE,SAAA,EAAAkC,QAAA,eACEpC,KAAA,CAAChB,IAAI,EAACqD,QAAQ,CAAEtB,YAAa,CAACuB,MAAM,CAAC,QAAQ,CAAAF,QAAA,eAC3CtC,IAAA,CAACd,IAAI,CAACuD,IAAI,EAACC,KAAK,CAAC,OAAO,CAACC,IAAI,CAAC,OAAO,CAAAL,QAAA,cACnCtC,IAAA,CAACZ,KAAK,IAAG,EACC,cACZY,IAAA,CAACd,IAAI,CAACuD,IAAI,EAACC,KAAK,CAAC,aAAa,CAACC,IAAI,CAAC,aAAa,CAAAL,QAAA,cAC/CtC,IAAA,CAACZ,KAAK,IAAG,EACC,cACZY,IAAA,CAACd,IAAI,CAACuD,IAAI,EAAAH,QAAA,cACRtC,IAAA,CAAChB,MAAM,EAAC2B,OAAO,CAAEA,OAAQ,CAACiC,IAAI,CAAC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAAP,QAAA,CAAC,QAE3D,EAAS,EACC,GACP,cACPtC,IAAA,CAACX,IAAI,EACHyD,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAG,CAAE,CACzBpC,OAAO,CAAEA,OAAQ,CACjBqC,IAAI,CAAE,CACJC,MAAM,CAAE,EAAE,CACVC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,GAAG,CAAE,CACP,CAAE,CACFC,UAAU,CAAEzC,IAAK,CACjB0C,UAAU,CAAE,SAAAA,WAACC,IAAI,qBACf1D,IAAA,CAACX,IAAI,CAACoD,IAAI,EAAAH,QAAA,cACRtC,IAAA,CAACf,IAAI,EAEH0E,KAAK,cACH3D,IAAA,CAACR,OAAO,EAACmE,KAAK,CAAED,IAAI,CAACE,WAAY,CAAAtB,QAAA,cAC/BtC,IAAA,CAACM,IAAI,EAACuD,QAAQ,CAAE,IAAK,CAACf,KAAK,CAAE,CAAEgB,QAAQ,CAAE,GAAI,CAAE,CAAAxB,QAAA,CAC5CoB,IAAI,CAACC,KAAK,EACN,EAEV,CACDI,KAAK,cAAE7D,KAAA,CAACI,IAAI,EAACsC,IAAI,CAAC,WAAW,CAAAN,QAAA,EAAC,GAAC,CAACoB,IAAI,CAACM,KAAK,GAAS,CACnDC,OAAO,CAAE,cACPjE,IAAA,CAAChB,MAAM,EACLkF,KAAK,CAAC,OAAO,CACbtB,IAAI,CAAC,SAAS,CACduB,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAtE,QAAQ,CAAC6D,IAAI,CAACU,EAAE,CAAC,EAAC,CAAA9B,QAAA,CAClC,UAED,EAAS,CACT,CAAAA,QAAA,cAEFtC,IAAA,CAACb,KAAK,EAACkF,GAAG,CAAEX,IAAI,CAACY,GAAI,CAACC,KAAK,CAAC,MAAM,EAAG,EAnBhCb,IAAI,CAACU,EAAE,CAoBP,EACG,EACZ,EACF,GACD,CAEP,CAAC,CAED,GAAM,CAAAI,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,mBACEtE,KAAA,CAACX,IAAI,EAACkF,gBAAgB,CAAC,GAAG,CAACC,sBAAsB,CAAE,IAAK,CAAApC,QAAA,eACtDtC,IAAA,CAACK,OAAO,EAACsE,GAAG,CAAC,aAAa,CAAArC,QAAA,cACxBtC,IAAA,CAACO,UAAU,IAAG,EADe,GAAG,CAExB,cACVP,IAAA,CAACK,OAAO,EAACsE,GAAG,CAAC,WAAW,CAAArC,QAAA,cACpBtC,IAAA,CAACF,QAAQ,IAAG,EADa,GAAG,CAEtB,GACL,CAEX,CAAC,CAED,cAAe,CAAA0E,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}